http://lookingglass.sify.net<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <title>Sify Looking Glass</title>
	<script type="text/javascript" src="js/jquery.min.1.8.3.js"></script>
	<script type="text/javascript" src="js/jquery.searchabledropdown-1.0.8.min.js"></script>
  
  <style type="text/css">
 body { font-family:Arial,Helvetica,sans-serif; }
.button {
    background: -moz-linear-gradient(center top , #f4f4f4, #dfdfdf) repeat scroll 0 0 rgba(0, 0, 0, 0);
    border: 1px solid #bbbabb;
    border-radius: 0.8em;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    color: #494949;
    cursor: pointer;
    display: inline-block;
    font: 12px/100% Arial,Helvetica,sans-serif;
    outline: medium none;
    padding: 0.2em 0.5em;
    text-align: center;
    text-decoration: none;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
}
.loadbutton{
	 text-align: center;
}
#header {
    background-color: #bed730;
  
    height: 80px;
	min-width:850px;
  
    width: 100%;
}
#fg_membersite { margin:0px 0px 0px 0px;  font-family : Arial,Helvetica,sans-serif; }
#cust_logo {
    float: left;
    height: 60px;
    margin: 12px 0 0 20px;
    position: relative;
    width: 180px;
}
#cust_logoright {
    float: right;
    height: 40px;
    margin-top: 28px;   
    position: relative;
    width: 360px;
	background-image:url(image/sifylogo.png);
	background-size: 175px 35px;
	background-repeat:no-repeat;
}
#cust_logoright_text
{
color: #fff;
    font-size: 30px;
    font-weight: bold;
    height: 42px;
    margin-left: 40px;
    margin-top: 2px;
}
#fg_membersite label
{
    font-size:0.8em;
   font-weight: bold;
}

/*#fg_membersite input[type="text"],#fg_membersite textarea,#fg_membersite select,
#fg_membersite input[type="password"]
{
  font-family : Arial, Verdana, sans-serif;
  font-size: 0.8em;
  line-height:140%;
   padding : 3px; 
  color : #000; 
 
  border : 1px solid #999;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    -khtml-border-radius: 5px;
    border-radius: 5px;

}*/

#fg_membersite input[type="text"],
#fg_membersite input[type="password"]

{
  height:18px;
  width:220px;
}

  </style>
</head>
<body style="background:url(image/Opera-Background-Light-Blue.jpg);">

<div style="float:left; width:100%; height:auto;">
<div id='fg_membersite' align="center" class="fg" style=" height:inherit;  margin-top:0px;">
<div id="header">
                        <div id="cust_logo"><img src="image/sifylogo.jpg"></div>  <div id="cust_logoright"><div id="cust_logoright_text">Looking Glass</div></div>
                </div>
<div style="width:100%; min-height:600px;">
<div style="font-size:16px; font-weight:bold; background-color:#080808; color:#FFF; margin-top:3px; margin-bottom:2px; border-radius:5px; ">LOOKING GLASS</div>

<form id='lg'>
<table border='0' style="border:1px solid #999; border-radius: 5px;;" width='850px'  cellspacing='0' cellpadding='5' align=center>
	  	
		<tr class='1'>
			<td width="15%" align="right"><label>SOURCE&nbsp;&nbsp;<span style="font-weight:bold; color:#FF0000;">*</span></label></td>
			<td width="15%" align="left" ><select name="sourceid" id="sourceid" style="width:230px; "><option value=''>SELECT SOURCE</option><option  value="1">Chennai</option><option  value="2">Mumbai</option><option  value="3">Delhi</option><option  value="6">US-Newyork</option><option  value="5">Singapore</option><option  value="4">UK</option></select></td>
			<td align="right" width="20%"><label>DESTINATION &nbsp;&nbsp;<span style="font-weight:bold; color:#FF0000;">*</span></label> </td>
			 <td align="left" width="50%">
			 <table width="100%">
			 <tr>
			 <td><input type="radio" name="destination_sel" value="ip" /></td>
			 <td><input type="text" name="destinationip" id="destinationip"  placeholder="Enter Destination IP" style="width:230px;"  /></td>
			 </tr>			
			<tr>
			<td><input type="radio" name="destination_sel" value="id" checked="checked" /></td>
			<td><select name="destinationid" id="destinationid"  style="width:230px;"><option value=''>SELECT DESTINATION</option><option  value="1">Kolkatta</option><option  value="2">Bangalore</option><option  value="3">Hyderabad</option><option  value="4">Pune</option><option  value="5">Gurgoan</option><option  value="6">Ahmedabad</option><option  value="7">Cochin</option><option  value="8">Chennai</option><option  value="9">Mumbai</option><option  value="10">Baroda</option><option  value="11">Ghuwati</option><option  value="12">Nagpur</option><option  value="13">Delhi</option><option  value="14">Lucknow</option><option  value="15">Surat</option><option  value="16">Indore</option><option  value="17">Jaipur</option><option  value="18">Ludhiana</option><option  value="19">Patna</option><option  value="20">Chandigarh</option><option  value="21">Coimbatore</option><option  value="22">Bhuvaneshwar</option></select></td>
			</tr>
			</table>
			</td>
			</tr>
			
		<tr class='2'>
		<td align="right" width="15%"><label>COMMAND&nbsp;&nbsp;<span style="font-weight:bold; color:#FF0000;">*</span></label></td>
	    <td align="left" width="20%">
		<select name="exec_cmd" id="exec_cmd" style="width:230px;"><option value="">SELECT COMMAND</option><option value="BGP">BGP</option><option value="PING">PING</option><option value="TRACEROUTE">TRACEROUTE</option></select></td>
		<td align="right" width="15%"><div style="float:right; width:150px;"><label>ENTER ARITHMETIC OUPUT&nbsp;&nbsp;<span style="font-weight:bold; color:#FF0000;">*</span></label></div></td>
		<input type="hidden" name="timestamp" id="timestamp" value="1540742411"  maxlength="8" style="width:50px; height:23px; border:1px solid #000;" />
	     <td align="left"width="50%">
	<div style="margin-left:35px;  float:left">
	
	
	<div style="float:left; height:50px; width:140px;" class="111">
	
	<img id="siimage" style="border: 1px solid #000;" src="securimage/securimage_show.php?sid=45f25610bc1d354542625e3e0840b20a" alt="CAPTCHA Image" />	
	<center> <!--<object type="application/x-shockwave-flash" data="securimage/securimage_play.swf?bgcol=#ffffff&amp;icon_file=securimage/images/audio_icon.png&amp;audio_file=securimage/securimage_play.php" height="25" width="25">
    <param name="movie" value="securimage/securimage_play.swf?bgcol=#ffffff&amp;icon_file=securimage/images/audio_icon.png&amp;audio_file=securimage/securimage_play.php" />
    </object>-->
    &nbsp;
    <a id='refreshbut' tabindex="-1" style="border-style: none;" href="javascript:void(0);" title="Refresh Image" onclick="document.getElementById('siimage').src = 'securimage/securimage_show.php?sid=' + Math.random(); this.blur(); return false"><img src="securimage/images/refresh.png" alt="Reload Image" height="25" width="25" onclick="this.blur()" align="bottom" border="0" /></a></center>
	
	</div>
	
	 <div style="float: left;font-size: 28px;height: 50px;padding-top: 0;width: 30px;"> =  </div>
	 <div style="float: left;height:50px ;padding-top: 0;width: 75px; margin-top:7px;"><input type="text" name="ct_captcha" id="ct_captcha" placeholder=""  maxlength="8" style="width:50px; height:23px; border:1px solid #000;" /></div>
  
	</div></td></tr>
	
	
			<tr><td valign=center align=center colspan="4" ><span class='loadbutton' style='display:none;'> <img src='image/loading_small.gif'> </span><input type="button" value="Execute" class="button" onclick="CallPageSync();" /></td> <td valign=center align=right  ><a href="index.php"><input type="button" value="Refresh" class="button" />  </a></td></tr> </table>
		</form>

		<table width='850px' cellspacing='0' align=center cellpadding='5'><tr><td align="center" width="100%">
		<div align="center" id="res_status" style=""></div> 
	<div style="float:left; width:850px;"><textarea style="width:100%; min-height:300px;font-family: Courier;font-size: 12px;color: #000; border:none; border-radius:5px;" id="result" readonly="readonly" name="result"></textarea></div>
		</td></tr>


<tr><td align="center" width="100%">
                
<div style="float:left; width:850px;">If there is any issues. Kindly send your queries to our mail id peering@sifycorp.com </div>

</table>
		
</div>

<div id="top_header" ><center>All Rights Reserved Sify Technologies Limited </center></div>
	
</div>
</div>


</body>
</html>

 
<script>

$(document).ready(function () {
//alert('hi');
$("#sourceid").searchable(); $("#destinationid").searchable();
});


	function get_loading_image()
	{
	var img_src='image/loading_small.gif';
	loading_img="<img src="+"'"+img_src+"'"+">"; 
	return loading_img;
	}
	

function CallPageSync()
{
var sourceid=$('#sourceid').val(); var exec_cmd=$('#exec_cmd').val();
var radio_val=$('input[name=destination_sel]:checked').val();
//alert(radio_val);
if(sourceid=='')
{
alert('Please select source'); return false;
}

if (radio_val=='ip') 
{    
var destinationip=$('#destinationip').val();
var ipformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;  
 if(!destinationip.match(ipformat))  
 {  
 alert("You have entered an invalid Destination IP");  
 $('#destinationip').focus(); return false;  
 }  
  
}
else if (radio_val=='id') 
{
 var destinationid=$('#destinationid').val(); 
 if(destinationid=='')
 {
 alert('Please select valid  destination'); return false;
 }
}
else
{
alert('Please select valid radio button for destination'); return false;
}

if(exec_cmd=='')
{
alert('Please select valid command'); return false;
}
if($.trim($('#ct_captcha').val())=='')
{
alert('Please enter valid arithmetic output'); return false;
}

var url='load.php';
var data='sourceid='+sourceid+'&destinationid='+destinationid+'&exec_cmd='+exec_cmd; 
var load_id='result'; var status_id='res_status';
	var loading_image=get_loading_image();	
    var response;
    $.ajax({
		async: true,
      	type:'POST',
        url: url,
		cache: false, 
        data: $( "#lg" ).serialize(),
	    //beforeSend: function() { $('.button').hide(); $('#result').hide();  $('#'+status_id).html(get_loading_image); },
        success: function(result) {
			//alert(result);
            //response = result;
			
				//$('#'+load_id).html(result);
				console.log(typeof(result));
				index = result.indexOf("outputLog=");
				index = index+10;
				index2 = result.indexOf("]");
				//console.log(index2);
				index2 = index2-1;
				//console.log(index2);console.log(index2);
				result = result.substring(0, result.length-1);
				result = result.substr(index);
				result2 = result.indexOf("entered incorrect arithmetic outpu");
				//console.log(result);
				if(result2 >=0) { alert('entered incorrect arithmetic output'); location.reload(); return;}
				$( "#timestamp" ).val(result);
				$('#result').show(); 
				$('#'+status_id).html('');
				filldata();
				/*$('#ct_captcha').val('');
				$('.button').show();
				reloadCaptcha();*/
				//$('#lg')[0].reset();
			//alert(load_id);
			delete url; delete data; delete load_id; delete status_id; delete loading_image; delete eltype; delete result;
						
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            response = "err--" + XMLHttpRequest.status + " -- " + XMLHttpRequest.statusText;
        }
    });


}
function filldata()
{
	var url='load1.php';
	//$('#result').html('fst data');
	$('#result').show(); 
	$('#res_status').html(''); 
	timestamp = $( "#timestamp" ).val();
	$.ajax({
		async: true,
      	type:'POST',
        url: url,
		cache: false, 
        data: {"request_id":timestamp},
	    success: function(result) {
	    	console.log(result);
	    	resp = result.indexOf('*** end ***');
	    	if(resp>0)
	    	{
	    		result = result.replace("*** end ***", "");
	    		$('#result').html(result);
				$('.loadbutton').hide();
	    		$('.button').show();
				$( "#refreshbut" ).click();
				$( "#ct_captcha" ).val('');
				
	    	}else{
	    		$('.button').hide();
				$('.loadbutton').show();
				$('#result').html(result);
				//$('#res_status').html(get_loading_image); 
				setTimeout(filldata, 1000);
	    	}
			
		},
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            response = "err--" + XMLHttpRequest.status + " -- " + XMLHttpRequest.statusText;
        }
    });
}
 function reloadCaptcha()
    {
        jQuery('#siimage').prop('src', 'securimage/securimage_show.php?sid=' + Math.random());
		
    }

</script>
			